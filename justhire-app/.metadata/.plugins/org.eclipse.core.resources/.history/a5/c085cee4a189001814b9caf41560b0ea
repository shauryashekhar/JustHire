package com.wissen.justhire;

import java.util.List;
import java.util.Optional;

import org.springframework.boot.CommandLineRunner;
import org.springframework.boot.SpringApplication;
import org.springframework.boot.autoconfigure.SpringBootApplication;
import org.springframework.context.annotation.Bean;
import org.springframework.data.jpa.repository.config.EnableJpaRepositories;

import com.wissen.justhire.model.Candidate;
import com.wissen.justhire.model.Interview;
import com.wissen.justhire.model.Login;
import com.wissen.justhire.model.Question;
import com.wissen.justhire.model.Round;
import com.wissen.justhire.model.User;
import com.wissen.justhire.repository.CandidateRepository;
import com.wissen.justhire.repository.InterviewRepository;
import com.wissen.justhire.repository.LoginRepository;
import com.wissen.justhire.repository.QuestionAskedRepository;
import com.wissen.justhire.repository.QuestionRepository;
import com.wissen.justhire.repository.UserRepository;

@SpringBootApplication
@EnableJpaRepositories
public class JustHireAppApplication {

	public static void main(String[] args) {
		SpringApplication.run(JustHireAppApplication.class, args);

	}

	@Bean
	public CommandLineRunner test(UserRepository userRepository, CandidateRepository candidateRepository,
			QuestionRepository questionRepository, QuestionAskedRepository questionAskedRepository,InterviewRepository interviewRepository,LoginRepository loginRepository) {
		return args -> {

			// Testing Candidate Repository

			// find all candidate

//				List<Candidate> candidates = candidateRepository.findAll();
//				for (Candidate c : candidates)
//					System.out.println(c.getFirstName());
//	
//				// insert candidate
//				Candidate can = new Candidate();
//				can.setFirstName("Sagar");
//				can.setLastName("Naik");
//				can.setEmail("s.naik@gmail.com");
//				candidateRepository.save(can);
//	
//				// update
//	
//				candidateRepository.updateStatusAndScore("selected", 10.00f, 4);
//				System.out.println("updated");

//		----------------------------------------------------------------------------------------------------------------

			// Testing Interview Repository
			
			//Insert
			
//			Interview interview = new Interview();
//			Candidate candidate = new Candidate();
//			candidate.setCandidateId(1);
//			interview.setCandidate(candidate);
//			User user = new User();
//			user.setUserId(14);
//			interview.setUser(user);
//			interviewRepository.save(interview);
//			System.out.println("saved");
			
//			----------------------------------------------------------------------------------------------------------------

			// Testing Login Repository
			
			//Insert
			
			Login login = new Login();
			login.setEmail("shaurya@email.com");
			login.setPassword("1234");
			loginRepository.save(login);
			
			
				
			
		};
	}
}
